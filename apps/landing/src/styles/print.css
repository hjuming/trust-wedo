/* ============================================
   Trust WEDO Print Styles - Optimized for Compact PDF
   ============================================ */

@media print {

  /* 隱藏所有 UI 元素 */
  .no-print,
  nav,
  aside,
  header:not(.print-header),
  footer:not(.print-footer),
  button,
  [data-no-print="true"] {
    display: none !important;
  }

  /* 重設頁面 */
  html,
  body {
    height: auto !important;
    overflow: visible !important;
    background: #fff !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    font-size: 10pt !important;
    /* 縮小字體以容納更多內容 */
    line-height: 1.4 !important;
    /* 緊湊行距 */
  }

  /* 移除 Tailwind 的 dark mode 影響 */
  .dark {
    color-scheme: light !important;
  }

  .dark body {
    background-color: white !important;
    color: black !important;
  }

  /* 報告容器 - 最大化利用空間 */
  .print-container {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    position: static !important;
    display: block !important;
  }

  /* 調整側邊欄縮進 */
  main {
    margin-left: 0 !important;
    padding: 0 !important;
  }

  /* 緊湊間距 - 關鍵優化 */
  .mb-8,
  .my-8 {
    margin-bottom: 12px !important;
  }

  .mb-6,
  .my-6 {
    margin-bottom: 8px !important;
  }

  .mb-4,
  .my-4 {
    margin-bottom: 6px !important;
  }

  .p-10 {
    padding: 16px !important;
  }

  .p-8 {
    padding: 12px !important;
  }

  .p-6 {
    padding: 10px !important;
  }

  .p-4 {
    padding: 8px !important;
  }

  /* 標題縮小 */
  h1 {
    font-size: 20pt !important;
    margin-bottom: 8px !important;
  }

  h2 {
    font-size: 16pt !important;
    margin-bottom: 6px !important;
  }

  h3 {
    font-size: 13pt !important;
    margin-bottom: 4px !important;
  }

  h4,
  h5,
  h6 {
    font-size: 11pt !important;
    margin-bottom: 3px !important;
  }

  /* 避免卡片被切頁 - 但允許必要時分頁 */
  .print-avoid-break {
    break-inside: avoid-page;
    page-break-inside: avoid;
    margin-bottom: 10px !important;
  }

  /* 維度卡片 - 使用緊湊的網格布局 */
  .grid {
    gap: 8px !important;
  }

  /* 確保顏色正確顯示 */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* 簡化邊框和陰影 - 現代簡約風格 */
  .shadow-xl,
  .shadow-lg,
  .shadow-2xl,
  .shadow-sm {
    box-shadow: none !important;
    border: 0.5px solid #e5e7eb !important;
    /* 極細邊框 */
  }

  .rounded-3xl,
  .rounded-2xl,
  .rounded-xl,
  .rounded-\\[2\\.5rem\\] {
    border-radius: 6px !important;
    /* 適度圓角 */
  }

  /* 確保文字顏色在列印時足夠深 */
  .text-brand-slate,
  .text-brand-light\\/60,
  .text-brand-light\\/40,
  .text-gray-500,
  .text-gray-600 {
    color: #374151 !important;
    /* 深灰色,易讀 */
  }

  /* 分數顯示優化 */
  .text-6xl {
    font-size: 36pt !important;
  }

  .text-2xl {
    font-size: 16pt !important;
  }

  .text-xl {
    font-size: 13pt !important;
  }

  .text-lg {
    font-size: 11pt !important;
  }

  .text-sm {
    font-size: 9pt !important;
  }

  .text-xs {
    font-size: 8pt !important;
  }

  /* 背景色優化 - 使用淺色以節省墨水 */
  .bg-brand-blue\\/5,
  .bg-blue-50,
  .bg-gray-50 {
    background-color: #f9fafb !important;
  }

  .bg-amber-50 {
    background-color: #fffbeb !important;
  }

  /* 進度條和圖表 - 保持視覺效果但縮小 */
  svg {
    max-height: 120px !important;
  }

  /* Quick Wins 區塊優化 */
  .space-y-4>*+* {
    margin-top: 6px !important;
  }

  .space-y-6>*+* {
    margin-top: 8px !important;
  }

  /* 表格優化 */
  table {
    font-size: 9pt !important;
    border-collapse: collapse !important;
  }

  th,
  td {
    padding: 4px 6px !important;
  }

  /* 列表優化 */
  ul,
  ol {
    margin: 4px 0 !important;
    padding-left: 16px !important;
  }

  li {
    margin-bottom: 2px !important;
  }

  /* 徽章和標籤 */
  .px-4 {
    padding-left: 8px !important;
    padding-right: 8px !important;
  }

  .py-1\\.5,
  .py-2 {
    padding-top: 3px !important;
    padding-bottom: 3px !important;
  }

  /* 強制單頁顯示關鍵內容 */
  .print-keep-together {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
  }

  /* 移除不必要的空白 */
  .container {
    padding: 0 !important;
  }

  /* 優化警告 Banner */
  .border-l-4 {
    border-left-width: 3px !important;
  }

  /* 圖示縮小 */
  .w-6,
  .h-6 {
    width: 16px !important;
    height: 16px !important;
  }

  .w-5,
  .h-5 {
    width: 14px !important;
    height: 14px !important;
  }

  .w-4,
  .h-4 {
    width: 12px !important;
    height: 12px !important;
  }
}

/* 紙張設定 - 優化邊距 */
@page {
  size: A4;
  margin: 12mm 10mm;
  /* 減小邊距以容納更多內容 */
}

/* 首頁特殊設定 */
@page :first {
  margin-top: 10mm;
}

/* 避免孤行和寡行 */
@media print {

  p,
  li {
    orphans: 3;
    widows: 3;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    break-after: avoid;
    page-break-after: avoid;
  }
}